<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <h:outputStylesheet library="css" name="bootstrap.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body style="background: url('http://pilarreadingcenter.org/wp-content/uploads/2016/04/Wood-White-Background-HD.jpg') no-repeat center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            background-size: cover;
            -o-background-size: cover;">
        
        <ui:insert name="secret-navbar">
            <ui:include src="templates/user-navbar.xhtml"/>
        </ui:insert>
        <h:form>
            <h:commandButton class="btn-lg btn-success" style="margin: 3%; float: right;" value="Siparişi Tamamla" action="#{sepetController.siparisiTamamla()}"></h:commandButton>
        </h:form>
        <h3 class="text-info display-4">Sepetteki Kitaplar</h3>
        <p:dataGrid style="float: left;" var="kitap" value="#{sepetController.fetchSepetkitaplar()}" columns="7" rows="5"
                    class="pagination">

           

            <p:panel  style="float: left; text-align:center; border: 0;">
                <h:panelGrid columns="1" style="float: left; width:30%">

                    <img src="../images/kitaplar/#{kitap.isbn}.jpg" style="height: 100px; width: 80px;"/> 
                    <h:outputText value="#{kitap.adi}" />
                    <h:outputText value="#{kitap.yazar}" />
                    <h:outputText value="#{kitap.yayinevi}" />
                    <h5 style="font-weight: 900; font-size: x-large; font-family: monospace;">#{kitap.fiyat} TL</h5>
                    <h:form>
                        
                        <div style="margin-top: 5px;">
                            <h:commandButton value="Sepetten Çıkar"  
                                     class="text-light btn btn-danger"
                                     action="#{sepetController.sepettenSilKitap(kitap.isbn)}"/>
                        </div>
                    </h:form>


                </h:panelGrid>
            </p:panel>

        </p:dataGrid>
        <h3 class="text-info display-4">Sepetteki CD'ler</h3>
        <p:dataGrid class="pagination" var="cd" value="#{sepetController.fetchSepetCdler()}" columns="7" rows="5">

            <p:panel style="text-align:center; border: 0;">
                <h:panelGrid columns="1" style="width:30%">

                    <img src="../images/cdler/#{cd.isbn}.jpg" style="height: 100px; width: 100px;"/> 
                    <h:outputText value="#{cd.adi}" />
                    <h:outputText value="#{cd.artist}" />
                    <h5 style="font-weight: 900; font-size: x-large; font-family: monospace;">#{cd.fiyat} TL</h5>
                    <h:form>
                        <div style="margin-top: 5px;">
                            <h:commandButton value="Sepetten Çıkar"
                                     class="text-light btn btn-danger"
                                     action="#{sepetController.sepettenSilCD(cd.isbn)}"/>
                        </div>
                    </h:form>


                </h:panelGrid>
            </p:panel>

        </p:dataGrid>
        
        <h:form>
            <h:commandButton class="btn-lg btn-success" style="margin: 3%; float: right;" value="Siparişi Tamamla" action="#{sepetController.siparisiTamamla()}"></h:commandButton>
        </h:form>

    </h:body>
</html>


